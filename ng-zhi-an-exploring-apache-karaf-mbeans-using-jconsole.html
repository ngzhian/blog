<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zhi An, Curious, creative, programmer. Open-source enthusiast">


        <title>Ng Zhi An - Exploring Apache Karaf MBeans using JConsole // Zhi An // Curious, creative, programmer. Open-source enthusiast</title>

    <link href="http://i.imgur.com/dA0h5oc.jpg" rel="icon">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./theme/css/pure.css">
    <link rel="stylesheet" href="./theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('http://i.imgur.com/TAYo0g1.png')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="http://i.imgur.com/dA0h5oc.jpg">
                            <h1 class="brand-main"><a href=".">Zhi An</a></h1>
                            <p class="tagline">Curious, creative, programmer. Open-source enthusiast</p>
                                <p class="social">
                                    <a href="http://github.com/ngzhian">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                </p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Ng Zhi An - Exploring Apache Karaf MBeans using JConsole</h1>
                        <p class="post-meta">
                            // under                         </p>
                </header>
            </section>
            
        <div id="header">
            <div id="logo">
                <a href="../">$fancy-logo$</a>
            </div>
            <div id="navigation">
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Exploring Apache Karaf MBeans using JConsole</h1>

            <div class="info">
    Posted on May 10, 2014
    
</div>

<p>This post will be about using JConsole to explore the MBeans exposed by Apache Karaf. <a href="http://karaf.apache.org/manual/latest-2.3.x/users-guide/jmx.html">Here’s</a> a list of MBeans that Karaf provides.</p>
<h2 id="getting-karaf-up-and-running">Getting Karaf up and running</h2>
<p>Karaf provides an extremely clear an concise <a href="http://karaf.apache.org/manual/latest-2.3.x/quick-start.html">quick start guide</a> and I was able to up everything up and running by following the instructions.</p>
<h2 id="monitoring-using-jconsole">Monitoring using JConsole</h2>
<ol style="list-style-type: decimal">
<li>Fire up Karaf using <code>$KARAF_INSTALL_LOCATION\bin\start</code></li>
<li>Fire up JConsole</li>
</ol>
<div class="figure">
<img src="../images/jconsole-karaf.png" alt="JConsole can detect the Karaf process" /><p class="caption">JConsole can detect the Karaf process</p>
</div>
<p>Under the new connection window, JConsole should be able to detect the Karaf process. We can connect to it, and head straight to the MBeans tab. We can immediately see the list of MBeans available. The <code>java.lang.Memory</code> and <code>java.lang.Threading</code> MBeans are there, and we explored it in a previous blog post.</p>
<div class="figure">
<img src="../images/jconsole-karaf-mbeans.png" alt="MBeans tab of the Karaf process" /><p class="caption">MBeans tab of the Karaf process</p>
</div>
<h2 id="the-karaf-mbeans">The Karaf MBeans</h2>
<p>Karaf actually provides quite a number of MBeans, and are categorized by <code>type</code>. For example the mbeans have the domain <code>org.apache.karaf</code>, and some of the types are <code>admin</code>, <code>bundles</code>, <code>config</code>, etc. All of them have the same <code>name</code>, which is <code>root</code>.</p>
<div class="figure">
<img src="../images/jconsole-karaf-mbeans-all.png" alt="Karaf provides MBeans of many kinds" /><p class="caption">Karaf provides MBeans of many kinds</p>
</div>
<h2 id="camel-mbeans">Camel MBeans</h2>
<p>While exploring MBeans using JConsole, and following the Karaf quickstart, I chanced upon MBeans with the domain <code>org.apache.camel</code>, so it seems like <code>Camel</code> provides quite a number of mbeans as well! What’s interesting to me is that I am able to see <code>Camel</code> MBeans when my connection is to <code>Karaf</code>. I think this is because <code>Camel</code> was started by <code>Karaf</code>, so they are attached to the same process.</p>
<div class="figure">
<img src="../images/jconsole-karaf-camel.png" alt="Camel provides MBeans as well" /><p class="caption">Camel provides MBeans as well</p>
</div>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Ng Zhi An &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>

</body>
</html>