<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Zhi An, Curious, creative, programmer. Open-source enthusiast">


        <title>Ng Zhi An - Debian Jessie, Screen resolution, and VirtualBox Guest Additions // Zhi An // Curious, creative, programmer. Open-source enthusiast</title>

    <link href="http://i.imgur.com/dA0h5oc.jpg" rel="icon">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./theme/css/pure.css">
    <link rel="stylesheet" href="./theme/css/pygments.css">

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/fitvids/1.0.1/jquery.fitvids.min.js"></script>
    <script>
        $(document).ready(function(){
            $(".content").fitVids();
        });
    </script>
</head>

<body>
    <div class="pure-g-r" id="layout">
        <div class="sidebar pure-u">
            <div class="cover-img" style="background-image: url('http://i.imgur.com/TAYo0g1.png')">
                <div class="cover-body">
                    <header class="header">
                        <hgroup>
                            <img class="avatar" src="http://i.imgur.com/dA0h5oc.jpg">
                            <h1 class="brand-main"><a href=".">Zhi An</a></h1>
                            <p class="tagline">Curious, creative, programmer. Open-source enthusiast</p>
                                <p class="social">
                                    <a href="http://github.com/ngzhian">
                                        <i class="fa fa-github fa-3x"></i>
                                    </a>
                                </p>
                        </hgroup>
                    </header>
                </div>
            </div>
        </div>
    <div class="pure-u">
        <div class="content">
            <section class="post">
                <header class="post-header">
                    <h1>Ng Zhi An - Debian Jessie, Screen resolution, and VirtualBox Guest Additions</h1>
                        <p class="post-meta">
                            // under                         </p>
                </header>
            </section>
            
        <div id="header">
            <div id="logo">
                <a href="../">$fancy-logo$</a>
            </div>
            <div id="navigation">
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Debian Jessie, Screen resolution, and VirtualBox Guest Additions</h1>

            <div class="info">
    Posted on May  4, 2014
    
</div>

<p>I decided to upgrade to Debian Jessie, to take advantage of the newer packages available, mainly the new GHC version. Initially I wanted to upgrade from my current Wheezy, but I faced problems with the screen resolution. I thought that had something to do with a bad upgrade, I did something wrong while upgrading, so I decided to do a fresh install. To my surprise, I met with the same issue.</p>
<p>For the record this is the system I’m running now:</p>
<pre class="sourceCode bash"><code class="sourceCode bash">$ <span class="kw">uname</span> -a
<span class="kw">Linux</span> debian-gsoc 3.13-1-amd64 <span class="co">#1 SMP Debian 3.13.10-1 (2014-04-15) x86_64 GNU/Linux</span></code></pre>
<h2 id="the-problem">The problem</h2>
<p>The issue was that the screen resolution was not right. Previously I managed to get 1920x1080, which is my native resolution. But after installing Jessie, I could only get 1240x768, that’s not good at all. <code>xrandr -q</code> says something like <code>failed to get size of output default</code>.</p>
<h2 id="steps-to-solving">Steps to solving</h2>
<p>I researched about it, and found many suggested solutions, most had to do with editing <code>/etc/X11/xorg.conf</code>. Those didn’t work for me at all, and I figure that was because I was running on VirtualBox. The magical search term was this</p>
<blockquote>
<p>debian wheezy virtualbox resolution</p>
</blockquote>
<p>which led me to <a href="https://forums.virtualbox.org/viewtopic.php?f=7&amp;t=44117">this forum post</a>.</p>
<p>The OP faced a problem with screen resolution on his guest os as well, and there are replies that mention an old VirtualBox Guest Additions. Apparently Debian Jessie ships with a version of Guest Additions, but it isn’t the lastest one.</p>
<p>My take away was to try to install Guest Additions, and see what happens. <a href="www.binarytides.com/virtualbox-guest-additions-debian-wheezy/">This post</a> was extremely helpful. I ignored the part on <code>lsmod</code> and skipped straight to <code>apt-get install build-essentials module-assistant</code>. I then got stuck at running <code>VBoxLinuxAdditions.run</code> - I couldn’t mount the cdrom.</p>
<h2 id="more-problems">More problems</h2>
<p>The simplest way to mount the cdrom onto your guest os is to go to the VirtualBox window, click on <code>Devices &gt; Insert Guest Additions CD Image</code>, but somehow that didn’t work for me. Click that didn’t see to have any effect, my <code>/media/cdrom</code> was still empty. I decided to mount the cdrom manually.</p>
<h2 id="success">Success!</h2>
<p>I got most of the information from <a href="www.virtualbox.org/manual/ch04.html#idp55231856">VirtualBox’s official manual</a>. Basically it involved me going to the VirtualBox window, selecting <code>Devices &gt; CD/DVD Devices &gt; Choose a virtual CD/DVD disk file...</code> and then navigate to <code>C:\Program Files\Oracle\VirtualBox</code>. Substitute that for wherever you installed VirtualBox.</p>
<p>After that I manually mounted the cdrom, with help from <a href="www.cyberciti.biz/faq/mounting-cdrom-in-linux/">nixcraft</a>, and ran the file</p>
<pre><code># mount /dev/cdrom /media/cdrom
# /media/cdrom/VBoxLinuxAdditions.run</code></pre>
<p>Wait a couple of minutes and rebooted, and now everything is fine! <code>xrandr -q</code> now gives me many more options, including 1920x1080, and I happily selected that using <code>xrandr --output VBOX0 --mode 1920x1080</code>.</p>
<p>The initial reason why I decided to virtualize was because of UEFI issues, and because virtualization has less problems. Today’s challenges has made me realize how it is difficult to pinpoint where the problem lies, because technology is so complex now. But still, a simple installation leading to so much convenience, I’ll definitely remember this lesson!</p>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    
            <a href="#" class="go-top">Go Top</a>
<footer class="footer">
    <p>&copy; Ng Zhi An &ndash;
        Built with <a href="https://github.com/PurePelicanTheme/pure-single">Pure Theme</a>
        for <a href="http://blog.getpelican.com/">Pelican</a>
    </p>
</footer>        </div>
    </div>
    </div>
    <script>
        var $top = $('.go-top');

        // Show or hide the sticky footer button
        $(window).scroll(function() {
            if ($(this).scrollTop() > 200) {
                $top.fadeIn(200);
            } else {
                $top.fadeOut(200);
            }
        });

        // Animate the scroll to top
        $top.click(function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop: 0}, 300);
        })

        // Makes sure that the href="#" attached to the <a> elements
        // don't scroll you back up the page.
        $('body').on('click', 'a[href="#"]', function(event) {
            event.preventDefault();
        });
    </script>

</body>
</html>