<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="author" content="Ng Zhi An">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,700" type="text/css">
  <meta name="generator" content="pandoc" />
  <meta name="date" content="2020-11-09" />
  <title>Latency and throughput</title>
  <link rel="stylesheet" href="styles.css" type="text/css" />
</head>
<body>
<section class="content">
<a class="home" href="./index.html">Home</a>
<div id="header">
<h1 class="title">Latency and throughput</h1>
<p class="published">2020-11-09</p>
</div>
<p>These two terms, <em>latency</em> and <em>throughput</em>, come up a lot when reading about instructions.</p>
<p>In this <a href="https://software.intel.com/content/www/us/en/develop/articles/measuring-instruction-latency-and-throughput.html">article</a>, latency is defined as the “number of processor clocks it takes for an instruction to have its data available for use by another instruction”, and throughput is the “number of processor clocks it takes for an instruction to execute or perform its calculations”.</p>
<p>Initially, these two definitions read almost identical to me.</p>
<p>Imagine trying to make a pizza, it takes 15 for preparing the ingredients, and 15 mins in the oven. So the latency is 30 mins, and the throughput is also 30 mins. So why use two words to mean the same thing?</p>
<p>The situation changes when you now have two chefs.</p>
<p>Each pizza still requires 30 mins, but you can pipeline this process.</p>
<p>The first chef will prepare the pizza (15 mins), then for the next 15 mins will prepare the second pizza, while this is happening, the second chef watches the first pizza in the oven. Once the first pizza is done, the second pizza goes in the oven. Imagine this going on for a while, you will get a pizza ready to eat every 15 mins (even though each pizza still takes the same 30 mins).</p>
<p>In concrete terms, let’s look at the <a href="https://uops.info/html-instr/ADD_AL_I8.html#ICL">ADD</a> instruction, the latency is 1, it takes one cycle to add two registers, and the throughput is 0.25, so every 0.25 cycle, a new add instruction can be started (but it still takes 1 full cycle for the result to be ready).</p>
<p>This is possible because modern processors have deep pipeline, and also have multiple execution ports that can handle the same instruction.</p>
</section>
</body>
</html>
